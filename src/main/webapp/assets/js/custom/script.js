// Generated by CoffeeScript 1.6.3
$(function() {
  $.stellar({
    horizontalScrolling: false,
    verticalOffset: 40
  });
  $('flippant-back flippant-modal-dark flipper flipped').blurjs({
    source: 'body',
    radius: 5
  });
  return $('.flippable img').on("click", function() {
    var $thisImg, gameId;
    $thisImg = $(this);
    gameId = $(this).parents('div.flippable').data("id");
    return $.getJSON("/game.do?api=true&id=" + gameId, function(data) {
      var back, game_modal_template;
      game_modal_template = $('<div/>', {
        "class": 'container'
      }).append($('<h1/>', {
        "html": "" + data.title
      }).add($("<h1/>").append($('<span/>', {
        "class": "label label-success label-large",
        "html": "    $ " + data.price
      }))).add($('<hr/>')).add($('<img/>', {
        "class": "box-art-container-large",
        "src": "" + data.image_url,
        "style": "float: right"
      })).add($('<div/>', {
        "html": "" + data.deck
      })).add($('<button/>', {
        "class": "btn btn-default btn-danger close-flippant"
      }).append($('<span/>', {
        "class": "glyphicon glyphicon-remove"
      }))));
      back = flippant.flip($thisImg.get(0), game_modal_template.html(), "modal");
      return $(".close-flippant").on("click", function(e) {
        e.preventDefault();
        return back.close();
      });
    });
  });
});
