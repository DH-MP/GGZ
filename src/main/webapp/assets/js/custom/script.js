// Generated by CoffeeScript 1.6.3
$(function() {
  $.stellar({
    horizontalScrolling: false,
    verticalOffset: 40
  });
  $("#cart-box").popover();
  $('.list-group-item').hover((function() {
    return $(this).addClass("active");
  }), (function() {
    return $(this).removeClass("active");
  }));
  $('flippant-back flippant-modal-dark flipper flipped').blurjs({
    source: 'body',
    radius: 5
  });
  return $('.flippable img, a.flippable').on("click", function(e) {
    var $thisImg, gameId;
    e.preventDefault();
    $thisImg = $(this);
    gameId = $(this).parents('.flippable').data("id") || $(this).data("id");
    return $.getJSON("/game.do?api=true&id=" + gameId, function(data) {
      var back, game_modal_template;
      game_modal_template = $('<div/>', {
        "class": 'container'
      }).append($('<img/>', {
        "class": "box-art-container-large",
        "src": "" + data.image_url,
        "style": "float: right"
      }).add($('<h1/>', {
        "html": "" + data.title
      }).append($('<span/>', {
        "class": "label label-success label-large",
        "style": "margin-left: 20px",
        "html": "$ " + data.price
      }))).add($('<hr/>')).add($('<div/>').append($('<p/>', {
        "html": "" + data.deck
      }))).add($('<button/>', {
        "class": "btn btn-large btn-default btn-success"
      }).html("Add to Cart").append($('<span/>', {
        "class": "glyphicon glyphicon-shopping-cart"
      }))).add($('<button/>', {
        "class": "btn btn-default btn-danger close-flippant"
      }).html("Close").append($('<span/>', {
        "class": "glyphicon glyphicon-remove"
      }))));
      back = flippant.flip($thisImg.get(0), game_modal_template.html(), "modal");
      return $(".close-flippant").on("click", function(e) {
        e.preventDefault();
        return back.close();
      });
    });
  });
});
